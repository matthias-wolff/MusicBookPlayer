<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html">
  <title>:: NEAR DARK :: Matthias Wolff</title>
  <meta name="author" content="Matthias Wolff">
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <link rel="shortcut icon" href="img/MusicBookPlayer.ico">
  <link rel="icon" href="img/MusicBookPlayer.ico">
  <link rel="stylesheet" type="text/css" media="screen" href="css/styles.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script type="text/javascript" src="js/mediaelement-and-player.min.js"></script>
  <script type="text/javascript" src="js/musicbookplayer.js"></script>
</head>
<body>

  <!-- Music Book Player -->
  <div class="music-book-player">
	  <div class="audio-player">
	    <div class="audio-player-header">
	      <div class="album-info">
	        <h1 id="album-title">Music Book Player</h1>
	        <h2 id="album-artist">by Matthias Wolff</h2>
	      </div>
	      <div id="spectrum-analyzer" class="spectrum-analyzer"></div>
	    </div>
	    <audio id="audio-player" 
	      style="width:100%; height:40%;" controls="controls" src="media/coverdummy.mp3">
	    </audio>
	  </div>
    <div class="track-controls">
      <div class="track-info">
        <div class="track-title-container">
          <div class="track-number" id="track-number"></div>
          <div class="track-number-separator" id="track-number-separator"></div>
          <div class="track-title">
            <h1 id="track-title">Loading...</h1>
            <h2 id="part-title"></h2>
          </div>
        </div>
      </div>
      <div class="mejs-button mbp-prev" onclick="musicBookPlayer.prev();">
        <button type="button" aria-controls="mep_0" 
          title="Previous Track/Part" aria-label="Previous Part/Track"
        ></button>
      </div>
      <div class="mejs-button mbp-next" onclick="musicBookPlayer.next();">
        <button type="button" aria-controls="mep_0" 
          title="Next Track/Part" aria-label="Next Part/Track"
        ></button>
      </div>
      <div class="mejs-button mbp-cnts" onclick="musicBookPlayer.gotoContents();">
        <button type="button" aria-controls="mep_0" 
          title="Contents/Cover Page" aria-label="Contents/Cover Page"
        ></button>
      </div>
    </div>
  </div>

  <!-- Music Book Content -->
  <div class="content-wrapper">
    <div class="content" id="content"></div>
  </div>
  
  <!-- Credits, etc. -->
  <aside>
    <h1>Music Book Player</h1>
    <p>
      by <a target="_blank" href="https://www.b-tu.de/en/fg-kommunikationstechnik/team/staff/prof-dr-ing-habil-matthias-wolff">Matthias Wolff</a>,
      hosted on <a target="_blank" href="">GitHub</a>
    </p>
    <h1>Based upon</h1>
    <ul>
      <li>
        <a target="_blank" href="https://github.com/mediaelement/mediaelement">MediaElement.js</a>
        <ul>
          <li><a target="_blank" href="https://github.com/mediaelement/mediaelement/tree/master/docs">Documentation</a></li>
          <li>designmodo: <a target="_blank" href="https://designmodo.com/audio-player/"> How to Create an Audio Player in jQuery, HTML5 &amp; CSS3.</a> (retrieved Aug. 27, 2021)</li>
          <li>design shack: <a target="_blank" href="https://designshack.net/articles/css/custom-html5-audio-element-ui/">Creating a Custom HTML5 Audio Element UI.</a> (retrieved Aug. 27, 2021)</li>
        </ul>
      </li>
      <li> and <a target="_blank" href="https://audiomotion.dev/#/">Spectrum Analyzer</a> by audioMotion</li>
    </ul>
  </aside>
  <aside>
    <h1>TODO</h1>
    <ul>
      <li>Animate MusicBookPlayer.scrollTo()</li>
      <li>Move credits and TODOs to non-modal pseudo window</li>
      <li>Dynamically create HTML page</li>
    </ul>
  </aside>

  <!-- Scripts -->
	<script type="text/javascript">
	  console.log('1');
	  var mbp = MusicBookPlayer.create({ // Music Book
	      mediaBaseURI: '../musicbooks/2021 - Near Dark',
	      title       : 'Near Dark',
	      artist      : 'Matthias Wolff',
	      image       : 'artwork.jpg', 
//         descr       : 'Composed and recorded 1995&thinsp;&ndash;&thinsp;2006, featuring '
//                      +'<a href="http://www.vintagesynth.com/kurzweil/k2000.php" target="_blank">Kurzweil K2000R</a> and '
//                      +'<a href="http://www.vintagesynth.com/akai/s5000.php" target="_blank">AKAI S5000</a> '
//                      +'synthesizers',
//         descr       : '<p>Composed 1995&thinsp;&ndash;&thinsp;2006</p>\n'
//                      +'<p>Running time 80:08 min.</p>\n'
//                      +'<p>Feature instruments: Kurzweil K2000 and Akai S5000</p>'
	    });
    mbp.addPage({ // Track 1
        tid   : 1,
        title : 'Near Dark',
        artist: mbp.pages[0].artist, // Copy book artist
        audio : '01 - Near Dark.mp3',
        image : '01 - Near Dark.jpg',
        //descr : '',
      });
    mbp.addPage({ // Track 2
        tid   : 2,
        title : 'Khitomer',
        artist: mbp.pages[0].artist, // Copy book artist
        audio : '02 - Khitomer.mp3',
        image : '02 - Khitomer.jpg',
        descr : 'Khitomer is a place name mentioned in a TV series called Star '
               +'Trek.',
      });
    mbp.addPage({ // Track 3
        tid   : 3,
        title : 'Captain\'s Lounge',
        artist: mbp.pages[0].artist, // Copy book artist
        audio : '03 - Captain\'s Lounge.mp3',
        image : '03 - Captain\'s Lounge.jpg',
        descr : 'Captain\'s Lounge refers to the office of Jean-Luc Picard, '
               +'captain of the U.S.S. Enterprise, a character in the same TV '
               +'series.',
      });
    mbp.addPage({
        tid   : 4,
        title : 'Perfect Dream pt. I',
        artist: mbp.pages[0].artist, // Copy book artist
        audio : '04 - Perfect Dream pt. I.mp3',
        image : '04A - Perfect Dream pt. I.jpg',
        part  : 'In the White Mountains',
        ptoffs: 0,
        //descr : '',
      });
    mbp.addPage({
        tid   : mbp.pages[mbp.pages.length-1].tid,   // Copy track ID from last page
        title : mbp.pages[mbp.pages.length-1].title, // Copy title from last page
        artist: mbp.pages[0].artist,                 // Copy book artist
        audio : mbp.pages[mbp.pages.length-1].audio, // Copy audio URL from last page
        image : '04B - Perfect Dream pt. I.jpg',
        part  : 'Mystery Track',
        ptoffs: 6*60 + 0.515,
        //descr : '',
      });
    mbp.addPage({
        tid   : mbp.pages[mbp.pages.length-1].tid,   // Copy track ID from last page
        title : mbp.pages[mbp.pages.length-1].title, // Copy title from last page
        artist: mbp.pages[0].artist,                 // Copy book artist
        audio : mbp.pages[mbp.pages.length-1].audio, // Copy audio URL from last page
        image : '04C - Perfect Dream pt. I.jpg',
        part  : 'Iceland',
        ptoffs: 9*60 + 26.6772,
        //descr : '',
      });
    mbp.addPage({
        tid   : mbp.pages[mbp.pages.length-1].tid,   // Copy track ID from last page
        title : mbp.pages[mbp.pages.length-1].title, // Copy title from last page
        artist: mbp.pages[0].artist,                 // Copy book artist
        audio : mbp.pages[mbp.pages.length-1].audio, // Copy audio URL from last page
        image : '04D - Perfect Dream pt. I.jpg',
        part  : 'Lönscher Park',
        ptoffs: 13*60 + 11.6844,
        descr : 'Lönscher Park is an arcane park in Görlitz.',
      });
    mbp.addPage({
        tid   : mbp.pages[mbp.pages.length-1].tid,   // Copy track ID from last page
        title : mbp.pages[mbp.pages.length-1].title, // Copy title from last page
        artist: mbp.pages[0].artist,                 // Copy book artist
        audio : mbp.pages[mbp.pages.length-1].audio, // Copy audio URL from last page
        image : '04E - Perfect Dream pt. I.jpg',
        part  : 'Going West',
        ptoffs: 18*60 + 46.5994,
        descr : 'Based upon the "Going West" theme by <a '
               +'href="http://www.tangerinedream.org/" target="_blank">'
               +'Tangerine Dream</a>, a world-renowned synth band.',
      });
    mbp.addPage({
        tid   : mbp.pages[mbp.pages.length-1].tid,   // Copy track ID from last page
        title : mbp.pages[mbp.pages.length-1].title, // Copy title from last page
        artist: mbp.pages[0].artist,                 // Copy book artist
        audio : mbp.pages[mbp.pages.length-1].audio, // Copy audio URL from last page
        image : '04F - Perfect Dream pt. I.jpg',
        part  : '[Bridge]',
        ptoffs: 22*60 + 21.4241,
        //descr : '',
    });
    mbp.addPage({
        tid   : mbp.pages[mbp.pages.length-1].tid,   // Copy track ID from last page
        title : mbp.pages[mbp.pages.length-1].title, // Copy title from last page
        artist: mbp.pages[0].artist,                 // Copy book artist
        audio : mbp.pages[mbp.pages.length-1].audio, // Copy audio URL from last page
        image : '04G - Perfect Dream pt. I.jpg',
        part  : 'Klötzelmönch (Logwise Edit)',
        ptoffs: 24*60 + 34.676,
        descr : 'Die Sage vom Klötzelmönch is one of the many medieval legends '
               +'told in Görlitz, and actually a quite disturbing one. The '
               +'song, which is just a fragment, sounds much nicer than the '
               +'legend would suggest. It was meant to be only an intro and '
               +'the song was going to proceed to the dark side of the legend '
               +'in the sequel.',
      });
    mbp.addPage({
        tid   : 5,
        title : 'Perfect Dream pt. II',
        artist: mbp.pages[0].artist,                 // Copy book artist
        audio : '05 - Perfect Dream pt. II (Stalker Ambient Mix).mp3',
        image : '05 - Perfect Dream pt. II (Stalker Ambient Mix).jpg',
        part  : '(Stalker Ambient Mix)', // HACK: Misusing part title as sub-title
        descr : '"Stalker" is a 1979 movie by Russian director Andrey '
               +'Tarkovski. The song uses samples from its avantgarde '
               +'soundtrack.',
      });
    mbp.addPage({
        tid   : 6,
        title : 'Landeskrone pt II',
        artist: mbp.pages[0].artist,                 // Copy book artist
        audio : '06 - Landeskrone pt. II.mp3',
        image : '06 - Landeskrone pt. II.jpg',
        descr : 'Landeskrone, translating to "land\'s crown", is the local '
               +'mountain of Görlitz.',
      });
    mbp.addPage({
        tid   : 7,
        title : 'Haleakala',
        artist: mbp.pages[0].artist,                 // Copy book artist
        audio : '07 - Haleakala.mp3',
        image : '07 - Haleakala.jpg',
        descr : 'Haleakala, Hawaiian for "house of the sun", is a mountain on '
                +'the island of Maui.',
      });
    mbp.addPage({
        tid   : 8,
        title : 'Tierpark',
        artist: mbp.pages[0].artist,                 // Copy book artist
        audio : '08 - Tierpark (Vendor Remix).mp3',
        image : '08 - Tierpark (Vendor Remix).jpg',
        part  : '(Vendor Remix)', // HACK: Misusing part title as sub-title
        descr : 'Tierpark, literally "animal park", is German for zoo.',
      });
    mbp.addPage({
        tid   : 9,
        title : 'Tierpark',
        artist: mbp.pages[0].artist,                 // Copy book artist
        audio : '09 - Tierpark (Original Version).mp3',
        image : '09 - Tierpark (Original Version).jpg',
        part  : '(Original Version)', // HACK: Misusing part title as sub-title
        //descr : '',
      });
    mbp.addPage({
        tid   : 10,
        title : 'Karamoon',
        artist: mbp.pages[0].artist,                 // Copy book artist
        audio : '10 - Karamoon.mp3',
        image : '10 - Karamoon.jpg',
        descr : 'Karamoon is the name of a land in a vintage adventure game '
               +'for Commodore Amiga computers.',
      });
	</script>
	<script type="module">
    import AudioMotionAnalyzer from 'https://cdn.skypack.dev/audiomotion-analyzer?min';
    //import AudioMotionAnalyzer from './js/mediaelement-and-player.min.js';

    const audioMotion = new AudioMotionAnalyzer(
      document.getElementById('spectrum-analyzer'),
      {
        source: document.getElementById('audio-player'),
        showScaleX: false, showBgColor: false, overlay: true,
        minFreq: 10, maxFreq: 20000,
        mode: 10, lineWidth: 1, fillAlpha: 0.2,
        // reflexRatio: 0.3, reflexAlpha: 0.15, reflexBright: 1,
        // set your preferred options here
      }
    );
  </script>

  <!-- End of Page Body -->
</body>
</html>